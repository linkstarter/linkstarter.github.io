# golang中的位运算

2021年10月26日

> 在阅读golang标准库的时候，发现代码中使用了很多位运算技巧，然而平时开发过程中使用很少，此文章前半部分做基础讲解，后半部分记录位运算各种操作，持续更新。

## 概述

计算机中的数在内存中都是以二进制形式进行存储，用位运算就是直接对整数在内存中的二进制位进行操作，因此执行效率非常高，用位运算会大大提高程序的性能。

## 操作符

| 运算符 | 含义                 | 备注                                            |
| ------ | -------------------- | ----------------------------------------------- |
| &      | 与运算（有0则0）     | 相比较的两位都是1时结果为1，否则为0             |
| \|     | 或运算（有1则1）     | 两者都为0才为0，否则为1                         |
| ^      | 异或运算（相同为0）  | 相同为0，不同为1                                |
| ~      | 取反运算（0，1互换） | 0变1，1变0                                      |
| <<     | 左移（进位，变大）   | 高位丢弃，低位补0                               |
| >>     | 右移（退位，变小）   | 无符号：高位补0，低位丢弃；有符号：高位补符号位 |

demo

```go
// 与运算 &
 10011
&11001
 10001
// 或运算 |
 10011
|11001
 11011
// 异或运算^
 10011
^11001
 01010
// 取反运算~
~10011
 01100
// 左移 <<
a := 8
a << 3
before: 0000 1000
after:  0100 0000
// 右移 >> 无符号
a := uint8(9)
a >> 3
before: 0000 1001
after:  0000 0001
// 右移 >> 有符号
// TODO

```

## 常用操作

1.判断数字奇偶性

```go
func isEvenNumber(a int) bool {
    return a & 1 == 0
}
// &运算，有0则0。a转换成二进制，最后一位为1时肯定是奇数，那么&1肯定不为0，最后一位为0时肯定肯定是偶数
// &1肯定为0
```





## 标准库中操作

## 参考

[神级运算——位运算 - 知乎 (zhihu.com)](https://zhuanlan.zhihu.com/p/102277869)

[(位运算有什么奇技淫巧？ - 知乎 (zhihu.com)](https://www.zhihu.com/question/38206659)